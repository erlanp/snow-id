# snow-id
 生成id
这是一个练手项目, 如用于生产,参见postgre的协议。

Snow2 
这个类是仿Snowflake算法，是秒级有序的，但更随机，每秒可以生成六千万的id。
但是有时要写文件，如果写的文件丢失了，不能保证id的不重复性。文件是基于java本身的文件系统，如果想更可靠的话同步数据要比使用数据库etcd之类麻烦。

Snowflake2 这个类每秒可以生成四千万的id，不用写硬盘文件。
可以抗闰秒，和十秒以内的时钟回拔，超过的话一分钟回拔一次，多回拔几次。
但如果当机后，短时间有时钟回拔或闰秒，不能保证id的不重复性。

RandomSet2 这个类每秒可以生成一千万的id，运维注意事项和Snowflake2一样。

以上性能结论是在i5cpu 8G内存的环境下测试的。

如果用http提供相关接口返回id，假设spring-boot单机一万tps，就算一个请求批量返回20个id，每秒20万id基本上也是mysql在一般机器上单机批量插入的极限了。如果想更快可以用netty之类的写，不用http直接tcp甚至udp还可以更快。

本人系统化的学习java不太久，练手项目，有写的不好的地方请原谅。
